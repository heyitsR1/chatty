#include <iostream>
#include <string>
#include <curl/curl.h>
#include <thread>
#include <chrono>
#include "Chatty.h"

// Cool ASCII Art Header
void displayBanner() {
    std::cout << R"(
    â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â£â£¾â£·â£¿â ¶â£†â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â â£¼â£¿â£¿â¢»â£¿â£¯â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢â¡‰â »â£¿â£¿â£¥â Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£´â£¶â£¾â£»â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£€â£¸â£¿â£¿â£¦â£¤â£¤â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¢¿â£¿â£¦â£¤â£¤â£„â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£¤â£¶â£¿â£¿â¢¿â£¿â£¿â£¿â£¿â£¿â£»â£¿â£¿â£Ÿâ£†â ‚â ˆâ ‰â ›â ³â£¦â£„â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£´â£¶â£¿â£¿â£¿â£¿â£¿â ¿â ›â ›â ‹â ‰â ‰â ‰â ‰â ›â¢»â£¿â£¿â£·â£¶â£¦â£„â£»â ‰â ¹â£¦â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ‰â£½â£¿â Ÿâ ‹â ‰â â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ¢‰â£â ™â ¾â£¿â£¿â£¶â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£´â¢ â£¾â Ÿâ â €â €â €â €â €â €â¢€â£¾â£¿â£·â¡„â €â €â €â €â €â¢ â£¿â¡¿â£‡â €â ˆâ£¿â£¿â ‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¯â¡¿â ‚â €â €â €â €â €â €â¢¸â£¿â£Ÿâ ›â£§â €â €â €â €â¢€â£¿â£¿â£§â£¿â €â¢€â¢¿â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˜â£¿â£¿â¡¿â£³â €â €â €â €â €â €â¢¸â£¿â£¿â «â¡¿â €â €â €â €â ˆâ¢»â£¿â¢â¡â €â£¸â£¿â ƒâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â¢¿â£¿â£¿â£·â¡€â €â €â €â €â£„â£»â£·â£¾â¡·â ¶â ¶â ’â ’â ¶â ¾â ¿â ¾â¢§â£„â£¿â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢»â£¿â£¿â£·â£¤â €â €â €â €â €â €â£ â €â €â €â €â €â €â €â¢ â¡€â €â¢€â£¿â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¹â£¿â£¿â£½â €â €â €â €â €â ‰â ³â¢¤â£€â €â €â €â£€â¡¤â žâ ‰â €â ˜â¡¾â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ¢¿â£¿â Ÿâ €â €â¢€â£€â£€â£€â£€â£€â£‰â£­â£­â£­â£­â£¤â£€â£€â£€â£€â£‘â¡‡â €â €â €â¢ â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢°â£¤â£¾â£·â ¾â Ÿâ ›â ›â ›â ‹â ‰â â €â €â €â €â €â €â €â €â €â ˆâ ‰â ™â ›â “â ²â£´â£¿â „â €â €â €â €â €â €â €â €â¢€â£¤â£„â €â €â €â €â €â €â €  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—                                                                             
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡´â žâ¢»â¡„â ‚â €â¢ â €â €â¢€â£€â£ â£¤â£¤â ¤â ¤â –â ’â ’â ’â ’â ¢â ¤â¢¤â£´â ƒâ ˜â ƒâ£¾â ‡â €â €â €â €â£¦â£ â ¤â£¶â£¶â£¸â¡€â¢¹â¡„â €â¢€â â ’â¢ â¢€ â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•
â €â €â €â €â €â €â €â €â €â €â €â €â €â£ â¡¶â ‹â €â €â ˆâ¢³â¡„â €â ˆâ£¿â£¿â£â£â¡¦â ¼â ·â ¶â ›â ›â ›â ›â ›â ›â ’â¡¶â ‹â¡¿â €â €â£¼â£â£€â£€â£€â£ â£¼â£¿â ƒâ£¸â£¿â¡¿â ›â ›â ›â ‰â£¿â£§â£¤â£¶â£šâ£­ â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• 
â €â €â €â €â €â €â €â €â €â €â¢ â£¿â£¿â£¯â£€â£ â¡´â ¶â ¶â£„â£³â¡€â €â¢¹â¡â ‰â €â €â €â €â €â €â£¶â €â €â €â €â €â£‡â£€â¡‡â €â €â£¿â¢»â¡â¢¹â£¿â¢»â£¿â£¿â €â£¿â£¿â ƒâ €â €â €â €â£¿â ¿â£¿â£‹â£‰â£™ â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ•”â•  
â €â €â €â €â €â €â €â €â €â €â ˜â ‰â¢¿â£¿â£¿â ‰â£€â¡¤â ¤â ¬â¢¿â£§â €â €â£¿â €â €â €â €â£¦â €â£°â£¿â €â €â €â¡€â €â¢¾â£¿â â£€â¢°â¡‡â¢¸â£·â¢¸â£¿â¡¸â£¿â ˆâ €â¢¹â£¿â¡†â €â €â €â£°â£¿â£´â ›â ¿â£¯â¡‰ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   
â €â €â €â €â €â €â €â €â €â €â €â €â£¨â£¿â£§â žâ â €â €â €â¢¸â¢¿â¡Ÿâ €â ˜â£‡â¢¹â¡€â¢°â£¿â¡„â¡Ÿâ£¿â£°â£‡â¢¸â£‡â£¶â£¿â£¿â €â ‰â£¿â£‡â£˜â£Ÿâ£€â£»â£‡â£¿â£Ÿâ €â €â¢¿â£¿â£¶â¡´â ¿â ¿â ›â ™â ¢â£¤â¡¼â ƒ â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•   â•šâ•â•      â•šâ•â•      â•šâ•â• 
â €â €â €â €â €â €â €â¢ â¡„â¢€â£´â£¾â¡›â¡â¢»â£¿â£¶â£´â£´â£¶â Ÿâ €â£·â €â €â¢¿â¡„â¢±â¡œâ ˜â£·â â¢¹â¡¿â »â¡¾â »â¢‰â¡¿â£¿â €â €â¡¿â ‰â ‰â ‰â ‰â â €â €â ‰â ‘â ’â ’â ›â ‹â â €â €â €â €â €â €â €â €
â €â €â €â €â¢€â£€â£´â£¿â£·â¢¾â£‡â¢¿â£§â ™â¢¤â£‰â£¹â¡¿â ›â â €â €â ¹â¡€â €â¢¸â¡‡â €â ™â €â ¹â „â €â â €â €â €â¢¸â£§â£¿â €â €â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â£¿â£¿â¡Ÿâ¢¿â£¿â¡ˆâ¢¿â¡§â ›â¢¤â£¤â£¿â£¿â£¿â£¦â¡€â €â €â €â£·â£¤â ˆâ¢§â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â¡â ˜â ƒâ¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â¢ â£¿â£¿â¡‡â ˜â¢¿â£·â£¤â£â£¦â¡´â ‹â €â ¹â£¿â£¶â¢¦â €â €â €â¢¹â¡‰â €â¢¸â¡†â €â €â €â €â €â €â €â €â €â£¼â£¿â¡‡â €â €â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â£´â ‚â °â Ÿâ£¿â£¯â£·â¡„â ˆâ »â¢¿â£¿â£¿â¡‡â €â €â €â¢¹â£¾â£¼â¡„â €â €â €â£‡â €â šâ ›â šâ ›â ›â ‰â ‰â ‰â ‰â ‰â ‰â ‰â ‰â â¢ â¡„â£‡â£€â¡¤â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â£‰â£·â ¦â €â ˜â¢¿â£¿â£¿â£¦â£„â£€â£©â ¿â ƒâ €â €â €â¢€â£¿â£¿â£ƒâ£€â¡€â €â£¿â£´â£€â£¤â£¶â£’â£¶â£¶â£¶â£„â£ â£¤â£¤â£¤â£¶â ¾â ·â ›â ¿â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â »â£¤â¡´â£¦â €â£¤â£¤â €â¢»â¡Ÿâ ‹â €â €â €â €â €â €â €â €â €â ‰â¢¹â£¿â£‰â ›â »â¢¯â£­â£¹â¡Ÿâ ‰â »â£¿â£¯â Ÿâ¢â¡¤â ›â¢›â£§â €â â£¤â£¤â „â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â ˆâ¢·â¡¶â ƒâ ˜â ›â ¾â ƒâ €â €â €â €â €â €â €â €â¢ â£„â£°â£¾â£¿â£Œâ¡›â ’â ¤â£¤â¡¾â €â €â €â ¹â£¿â£¿â£‹â£´â ‹â¢€â£¬â Ÿâ ›â¢¿â£§â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¼â£¿â£¿â£¿â£¿â ·â£€â ™â ³â ¶â¡¾â ‡â €â €â €â €â ™â£¿â£Ÿâ¢â£´â Ÿâ â €â €â €â ›â¢¿â£¦â¡€â €â €â €â €â €â£€â£ â¡´â ¶â£¦â£¤â£€â €â¡€â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢·â£¿â£¿â£»â£¿â£¿â£„â¡ˆâ ‰â ’â£¾â ‡â €â €â €â €â €â €â ˆâ¢»â¡Ÿâ â €â €â €â¢€â£´â£ºâ£½â£¾â£‡â €â¢€â£ â ¶â ‹â ‰â €â €â¢ˆâ£©â£¿â ¿â ›â£¿â£·â¢€â¡„â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â£¿â£¿â¡…â €â ™â »â¢¿â£¿â£¿â£¿â¡‡â €â €â €â €â €â €â¢°â£¿â¡‡â¢€â €â¢€â£´â£¯â šâ â €â ˆâ¢»â£·â ›â â €â €â €â£ â¡¶â ›â â¢€â£€â£¤â£¶â£¿â£¿â â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â£ â£´â£¾â¡Ÿâ£¿â¡¿â »â£¶â£„â£€â£°â£¯â£¾â â €â €â €â €â €â €â €â €â ™â£¿â£¿â£¿â£¿â£Ÿâ£…â €â €â €â£°â â â €â €â¢€â¡´â ›â â¢€â£¤â£¾â£¿â¡Ÿâ£§â£°â Ÿâ â €â €
â €â €â €â €â €â €â €â €â €â €â €â£´â¡¾â ›â£½â£¿â£¿â Ÿâ €â €â €â¢‰â¡¿â ›â »â ·â ‚â €â €â €â €â €â €â €â €â €â ˆâ »â ¿â¢¿â£¿â£¿â£¿â£¦â¡žâ â €â €â¢€â¡´â ‹â €â£€â¡´â£¿â£¿â â ¹â£§â£¾â ›â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â£¸â£¿â ƒâ €â ™â£¿â£·â£¶â£¤â£ â£´â¢¿â¡„â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ¹â£¿â£¿â¡Ÿâ €â €â¢€â£´â¢¿â¡€â¢ â£¾â£¿â£·â¡†â ‘â¢¦â£°â Ÿâ â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â¢°â£¿â£¿â €â €â €â ˆâ ‰â ¹â »â  â „â ˆâ£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â£¿â â €â¢ â£¾â£·â£†â£½â£¿â£¿â¡Œâ ™â¢§â£¤â¡¿â ‹â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â €â €â €â €â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˜â£†â£ â£¿â¢¿â£¶â£¿â ¿â£·â¡â£·â¡¾â Ÿâ â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â €â €â €â €â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£½â£¿â£¹â£¿â£¿â£â£ â¡¿â Ÿâ ‹â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£†â €â €â €â €â €â €â €â¢ â£¼â¡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢»â¡¿â Ÿâ ›â ‹â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â ˜â¢¿â¡¿â£½â£„â €â â ¶â£¤â£´â£¾â£¿â£¿â „â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â ˆâ »â£Œâ¡‰â ›â ¶â ¤â¢¼â£¿â¡¿â ›â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ‰â “â ’â ¶â Ÿâ â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â¡‡â €â €â €â €â €â €â €â €â €â¢°â£¶â£·â£¦â¡¦â£¶â¡—â¢¾â¢¦â¢¦â£´â¡²â£´â£¾â¢¦â¡–â£¤â¡„â¢¤â¡„â €â£¤â¢¢â£´â£¦â£†â£¤â¡„â €â „â¢ â£¾â£‡â£©â â£¹â¢£â¡¾â£¤â£¾â£¤â ¤â£„â €â£†â €â €â €â €â €â €â €â €â €â €

                                                                                                                                                                                                                   
  ðŸ‘‹ Welcome to Chatty - Your friendly AI Chatbot á•¦(â©¾ï¹â©½)á•¥
    )" << std::endl;
}

void loadingEffect() {
    std::string dots = "...";
    for (char dot : dots) {
        std::cout << dot << std::flush;
        std::this_thread::sleep_for(std::chrono::milliseconds(300));
    }
}

int main() {
    curl_global_init(CURL_GLOBAL_ALL);

    displayBanner(); // Show ASCII banner

    std::cout << "\nðŸ”‘ Enter your Anthropic API key: ";
    std::string api_key;
    std::getline(std::cin, api_key);

    Chatty chatty(api_key); // Custom chatbot class

    std::cout << "\nðŸ¤– Chatty welcomes you to his world! (Type 'exit' to quit)\n";
    std::string user_input;

    while (true) {
        std::cout << "\n\033[1;32mYou ðŸ¡† \033[0m"; // Green colored input prompt
        std::getline(std::cin, user_input);

        if (user_input == "exit") break;

        std::cout << "\033[1;34mChatty ðŸ¡† \033[0m"; // Blue colored Chatty output
        loadingEffect();
        std::cout << "\n";

        std::string response = chatty.chat(user_input);
        std::cout << response << std::endl;
    }

    std::cout << "\nðŸ‘‹ Goodbye, see you next time!\n";
    curl_global_cleanup();
    return 0;
}
